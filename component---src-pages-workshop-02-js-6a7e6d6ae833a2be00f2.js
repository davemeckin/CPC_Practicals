(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{UnxJ:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),o=a.n(n),l=a("Wbzz"),r=a("Bl7J"),i=a("vrFN"),s=a("RMg3"),c=a("bj0T"),d=a("jPax");a("8ypT");t.default=function(){return o.a.createElement(r.a,null,o.a.createElement(s.a,null),o.a.createElement(i.a,{title:"Workshop 02"}),o.a.createElement("p",null),o.a.createElement("h1",null,"Hello and welcome back!"),o.a.createElement("p",null,"This second workshop will demonstrate the beginnings of how we can create generative systems in 3D to create simple structural forms. So, we will:"),o.a.createElement("p",null,o.a.createElement("ul",null,o.a.createElement("li",null,"Work from the template we made from the first workshop  "),o.a.createElement("li",null,'Create our first generative system called a "Random walker" which is going to plot shapes in 3D space with a mind of its own'),o.a.createElement("li",null,"Attach a sound to our random walker"),o.a.createElement("li",null,"Have some space to play around with customising our system"))),o.a.createElement("p",null,"Here's what we're going to be building:"),o.a.createElement("iframe",{src:"https://codesandbox.io/embed/cpcw02end-xgto0?fontsize=14&hidenavigation=1&theme=dark&view=preview",style:{width:"100%",height:"500px",border:"0",overflow:"hidden"},title:"CPC_W02_END",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}),o.a.createElement("p",null,o.a.createElement("strong",null,"Where code is provided, you are expected to write it out yourself rather than copying and pasting it. We know this is tempting, but the point of a university education is for you to learn the necessary skills for your field, and copying and pasting code will not be on any job descriptions.")),o.a.createElement("h2",null,"Task 1 - Picking up from where we left off"),o.a.createElement("p",null),o.a.createElement("iframe",{src:"https://codesandbox.io/embed/w01t04-djglq?fontsize=14&hidenavigation=1&theme=dark",style:{width:"100%",height:"500px",border:"0",overflow:"hidden"},title:"W01_T04",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}),o.a.createElement("p",null),o.a.createElement("p",null,"If you didn't quite get there last time, go ahead and add a ",o.a.createElement("a",{href:"https://threejs.org/docs/#api/en/helpers/GridHelper",target:"_blank"},"grid helper")," to your scene."),o.a.createElement("h2",null,"Task 2 - Timing Events"),o.a.createElement("p",null,"The eagle eyed amongst you may have noticed that in our starter template we defined a clock but we never actually used it. Well, that's because we didn't really need it when spinning a simple cube, but when we want to do more complex things, we may not want to lock them into the frame rate of our project. Three.js by default runs at 60 frames per second. And although we can change that, sometimes it's good to be able to time operations slower than the framerate. "),o.a.createElement("iframe",{src:"https://codesandbox.io/embed/happy-https-1jk7g?fontsize=14&hidenavigation=1&theme=dark",style:{width:"100%",height:"500px",border:"0",overflow:"hidden"},title:"W02_T02",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}),o.a.createElement("p",null,"With that in mind, let's create our clock object and initialise our delta and interval variables. We're going to do this at the top on the init() function just after we remove the overlay:"),o.a.createElement("p",null),o.a.createElement("code",null,o.a.createElement(c.a,{text:"// clock generator to ensure we can clamp some operations at different timed rates if needed\n\n\tclock = new THREE.Clock();\n\tdelta = 0;\n\tinterval = 1 / 12; // 12 fps",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement("p",null,"So, let's change our update such that we get the delta from our clock object (the amount of time elapsed since we last checked, see ",o.a.createElement("a",{href:"https://threejs.org/docs/#api/en/core/Clock",target:"_blank"},"here")," for more info). Then we create an if statement to check whether that delta is higher that our interval. Within that is where we can perform our timed operations, and finally we just reset delta to being the modulus of our interval variable:"),o.a.createElement("p",null),o.a.createElement("code",null,o.a.createElement(c.a,{text:"function update() {\n  orbit.update();\n  //update stuff in here\n  delta += clock.getDelta();\n\n  if (delta  > interval) {\n    // The draw or time dependent code are here\n    delta = delta % interval;\n  }\n}",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement("p",null,"Try adding a line within the if statement that says: ",o.a.createElement("code",null," ",'console.log("Hi", delta);'," "),". Can you open the console in codesandbox to see the result? What happens if you change interval to 1/2 instead?"),o.a.createElement("p",null),o.a.createElement("h2",null,"Task 3 - Our JavaScript Walker Class"),o.a.createElement("p",null,"What we're building is a kind of random plotter. It's going to create a point in our 3D world, then make a decision to randomly move to the next location and draw a point there. And so on and so forth, there's a 2D version developed by Dan Shiffman over ",o.a.createElement("a",{href:"https://natureofcode.com/book/introduction/",target:"_blank"},"here"),". Now, we could potentially do this using a simple function, but we're intermediate level creative coders/technologists now so let's just go right ahead and create a class. Once you've had a go and this, if you're unsure about the stuff we talked about in the lecture, please digitally raise your hand during the workshop session and we can come and talk it over with you."),o.a.createElement("iframe",{src:"https://codesandbox.io/embed/w02t03-g44ob?fontsize=14&hidenavigation=1&theme=dark",style:{width:"100%",height:"500px",border:"0",overflow:"hidden"},title:"W02_T03",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}),o.a.createElement("p",null),o.a.createElement("p",null,'Like we said in the lecture, and as we\'ve repeatedly said on Digital Media BSc, a class is like a blueprint. Then we can use the "new" keyword to create in instance of that class, assign to a variable and use it later in our code. So, first we need to define the class, and in JavaScript, we add a constructor function which is called when we use the "new" keyword. Then we\'re going to define a one other function that our class is going to do once we\'ve made it: step(). So add the following code beneath your init() function:'),o.a.createElement("p",null),o.a.createElement("code",null,o.a.createElement(c.a,{text:"class Walker {\n\tconstructor() {\n\t\t\n\t}\n\n\tstep() {\n\t\n\t\t\n\t}\n}",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement("p",null,"OK cool, so we have the shell of our class but if we made a new walker right now, it wouldn't do anything. So let's populate it with some functionality. First of all, we want to be able to supply a starting position, and because we're working in 3 dimensions, that position will consist of three coordidates (x,y,z). Then we need to assign these to variables within our class, to do that, we use the \"this\" keyword. Finally, we just going to use a single CubeGeometry for now, so let's go ahead and make that. We will reuse this geometry every time we draw a new \"thing\" in 3D space. (I'm using the word \"thing\" as it doesn't have to be a cube, could be another shape, or even a custom 3D model):"),o.a.createElement("p",null),o.a.createElement("code",null,o.a.createElement(c.a,{text:"constructor(x,y,z) {\n\tthis.x = x;\n\tthis.y = y;\n\tthis.z = z;\n\tthis.dotGeometry = new THREE.CubeGeometry();\n\t}",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement("p",null,'Next, we want to create a "roll of the dice" type scenario to decide which way we are going to move in 3D space before drawing our next dot. We can use the inbuilt Three js functionlity for creating random numbers (similar to p5 in this way) from the MathUtils object. Then we just have a series of "if else" statements to make our movement decision, as follows:'),o.a.createElement("p",null),o.a.createElement("code",null,o.a.createElement(c.a,{text:"step() {\n\tlet choice = THREE.MathUtils.randInt(0,5);\n\t if (choice == 0) {\n\t      this.x += 0.5;\n\t    } else if (choice === 1) {\n\t      this.x -= 0.5;\n\t    } else if (choice === 2) {\n\t      this.y += 0.5;\n\t    } else if (choice === 3) {\n\t      this.y -= 0.5;\n\t    } else if (choice === 4) {\n\t      this.z += 0.5;\n\t    } else {\n\t      this.z -= 0.5;\n\t    }\n\t}",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement(d.a,{allowZeroExpanded:"true"},o.a.createElement(d.b,null,o.a.createElement(d.d,null,o.a.createElement(d.c,null,"If you want to see a slightly more shorthand way of achieving a similar output, this could also work (there are plenty of ways to skin a cat in creative coding)")),o.a.createElement(d.e,null,o.a.createElement("p",null,o.a.createElement("code",null,o.a.createElement(c.a,{text:"step() {\n // generate a position relative to the current one\n let axis = THREE.MathUtils.randInt(1, 3);\n let amnt = THREE.MathUtils.randInt(-1, 1);\n if (axis === 1) this.x += amnt;\n if (axis === 2) this.y += amnt;\n if (axis === 3) this.z += amnt;\n}",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})))))),o.a.createElement("p",null),o.a.createElement("p",null,'Then, finally, still in our step() function, we actually want to draw a dot. Now, as we saw last time with drawing a cube, we do actually need quite a few lines of code to draw something because our "thing" is always made up of separate component parts: Geometry+Material are used to create a Mesh. What we\'re doing below is:',o.a.createElement("ul",null,o.a.createElement("li",null,'Creating a new material (which do this because we might want to change the colour for each "thing" later so we need an individual instance of the material).'),o.a.createElement("li",null,"Changing the colour of the material."),o.a.createElement("li",null,"Creating a new mesh based on our geometry and the new material we just made."),o.a.createElement("li",null,"Updating that mesh's position property to the new location."),o.a.createElement("li",null,"Adding our new dot to our scene."))),o.a.createElement("p",null),o.a.createElement("code",null,o.a.createElement(c.a,{text:"this.dotMaterial = new THREE.MeshLambertMaterial({});\n    this.dotMaterial.color = new THREE.Color(0.1,0.5,0.3);\n\n    this.dot = new THREE.Mesh(this.dotGeometry, this.dotMaterial);\n    this.dot.translateX(this.x);\n    this.dot.translateY(this.y);\n    this.dot.translateZ(this.z);\n    scene.add(this.dot);",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement("h2",null,"Task 4 - Instantiating and Updating the Walker"),o.a.createElement("p",null),o.a.createElement("p",null,"So we have our blueprint, now we need to instantiate our walker by declaring a global variable at the top of our index.js file:"),o.a.createElement("code",null,o.a.createElement(c.a,{text:"let walker;",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement("p",null,"Then, at the bottom of our init() function just above where we call play() let's actually assign a new instance of Walker to our variable:"),o.a.createElement("p",null),o.a.createElement("code",null,o.a.createElement(c.a,{text:"walker = new Walker(0,0,0);",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement("p",null,"Next, let's call our step() function in our slower timed section of update():"),o.a.createElement("p",null),o.a.createElement("code",null,o.a.createElement(c.a,{text:"function update() {\n  orbit.update();\n  //update stuff in here\n  delta += clock.getDelta();\n\n  if (delta  > interval) {\n    // The draw or time dependent code are here\n    walker.step();\n    delta = delta % interval;\n  }\n}",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement("p",null),o.a.createElement("p",null),o.a.createElement("code",null,o.a.createElement(c.a,{text:"//some code",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement("p",null),o.a.createElement("h2",null,"Task 5 - Playing Sound"),o.a.createElement("p",null,"OK, the sound bit. We're going to trigger a single sound every time we make a new step, to really drive home the feel that this is like an infinite drawing machine. We chose this key tap sound which we're then going to pitch up. You can download your own sound or get the Gabriele100_Keyboard_Various-Keys_02.mp3 file from ",o.a.createElement("a",{href:"https://uweacuk-my.sharepoint.com/:f:/g/personal/dave_meckin_uwe_ac_uk/Enjdizr--AhKhGku2oxVW9QB2kmkvOr7sn98KoDl2Rlqhg?e=kGB8hN",target:"_blank"},"here"),'. Or you are more than welcome to create your own sound but make sure it\'s a very short, percussive type sound. In your "sounds" folder, add the new audio file by updloading and then add the following code to replace your previous sound player code: '),o.a.createElement("code",null,o.a.createElement(c.a,{text:'//sound\n\n  listener = new THREE.AudioListener();\n  camera.add(listener);\n  sound = new THREE.PositionalAudio(listener);\n\n  audioLoader = new THREE.AudioLoader();\n  audioLoader.load(\n    "./sounds/Gabriele100_Keyboard_Various-Keys_02.mp3",\n    function (buffer) {\n      sound.setBuffer(buffer);\n      sound.setRefDistance(10);\n      sound.setRolloffFactor(0.9);\n      sound.playbackRate = 10;\n      sound.offset = 0.1;\n      sound.setDirectionalCone(180, 230, 0.1);\n      sound.setLoop(false);\n      sound.setVolume(0.5);\n    }\n  );',language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement("p",null,"You can check out what all the parameters we're setting on the THREE.PositionalAudio object ",o.a.createElement("a",{href:"https://threejs.org/docs/#api/en/audio/PositionalAudio",target:"_blank"},"here"),". "),o.a.createElement("p",null,"Now, in the step() function, just below your series of if else statements where the choice of where the next step is made, let's trigger our sound with a bit of randomness in the start position of the audio file and volume, and ensure our sound only lasts for a short period of time - if you're using your own sound you will probably need to tweak these values:"),o.a.createElement("code",null,o.a.createElement(c.a,{text:"sound.offset = 0.0 + Math.random() * 0.05;\n    sound.setVolume(0.8 + Math.random() * 0.1);\n    sound.duration = 0.3;\n    sound.play();",language:"javascript",theme:c.b,showLineNumbers:!1,class:"codeBlocks"})),o.a.createElement("p",null),o.a.createElement("h2",null,"Task 6 - Stretch Task"),o.a.createElement("p",null,"OK so hopefully now you have made your random audio-visual walker, well done! Leave it running for a while to see how the structure grows over time. Here are a couple of stretch goals for you to work to really extend the knowledge you've developed so far:",o.a.createElement("ul",null,o.a.createElement("li",null,"Change the geometry type to a different shape. Use ",o.a.createElement("a",{href:"https://threejsfundamentals.org/threejs/lessons/threejs-primitives.html",target:"_blank"},"this list")," to try and implement something a bit more interesting than a cube... "),o.a.createElement("li",null,'Change the size and/or colours of the new object created depending on the step decision. So this would mean that you would have to update each "if else" statement to add code which would custimise the size and colour...'),o.a.createElement("li",null,"Change the sound that is played depending on the choice of which step direction is taken. This could mean separate PositionalAudio objects or dynamically setting the buffer of a single PositionalAudio object perhaps?"),o.a.createElement("li",null,"Make another instance of walker and start it off in a different place? And another? Can you build multiple structures?"))),o.a.createElement(l.Link,{to:"/"},"Go back to the homepage"))}}}]);
//# sourceMappingURL=component---src-pages-workshop-02-js-6a7e6d6ae833a2be00f2.js.map